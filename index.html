<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Energy-Efficient CPU Scheduling Simulator</title>

<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:#0f172a;
    color:#e5e7eb;
}
header{
    text-align:center;
    padding:30px;
    background:linear-gradient(135deg,#2563eb,#1e40af);
}
.container{
    max-width:1000px;
    margin:20px auto;
    padding:20px;
}
.card{
    background:#020617;
    padding:20px;
    margin-bottom:20px;
    border-radius:12px;
    box-shadow:0 8px 18px rgba(0,0,0,0.4);
}
h2{
    color:#60a5fa;
}
input, button{
    padding:8px;
    margin:5px;
    border-radius:6px;
    border:none;
}
input{
    width:120px;
}
button{
    background:#22c55e;
    color:#020617;
    cursor:pointer;
    font-weight:bold;
}
button:hover{
    background:#16a34a;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}
th, td{
    border:1px solid #334155;
    padding:8px;
    text-align:center;
}
th{
    background:#1e293b;
}
.high{
    color:#22c55e;
    font-weight:bold;
}
.low{
    color:#facc15;
    font-weight:bold;
}
</style>
</head>

<body>

<header>
    <h1>Energy-Efficient CPU Scheduling Simulator</h1>
    <p>Interactive Activity-Based Website</p>
</header>

<div class="container">

<div class="card">
    <h2>Add Process</h2>
    <input type="text" id="pid" placeholder="Process ID">
    <input type="number" id="burst" placeholder="Burst Time">
    <input type="number" id="priority" placeholder="Priority">
    <button onclick="addProcess()">Add</button>
</div>

<div class="card">
    <h2>Process Table</h2>
    <table>
        <thead>
            <tr>
                <th>PID</th>
                <th>Burst Time</th>
                <th>Priority</th>
                <th>CPU Frequency</th>
                <th>Energy</th>
            </tr>
        </thead>
        <tbody id="ptable"></tbody>
    </table>
</div>

<div class="card">
    <h2>Run Energy-Efficient Scheduling</h2>
    <button onclick="runScheduler()">Run Scheduler</button>
</div>

<div class="card">
    <h2>Activity Log (Energy Calculation)</h2>
    <table>
        <thead>
            <tr>
                <th>Process</th>
                <th>Voltage (V)</th>
                <th>Frequency (f)</th>
                <th>Burst Time (T)</th>
                <th>Formula</th>
                <th>Energy</th>
            </tr>
        </thead>
        <tbody id="activityLog"></tbody>
    </table>
</div>

</div>

<script>
let processes = [];

function addProcess(){
    let pid = document.getElementById("pid").value;
    let burst = Number(document.getElementById("burst").value);
    let priority = Number(document.getElementById("priority").value);

    if(pid === "" || burst <= 0){
        alert("Enter valid process details");
        return;
    }

    processes.push({pid, burst, priority});
    renderTable();
}

function runScheduler(){
    processes.sort((a,b)=>a.priority - b.priority);
    document.getElementById("activityLog").innerHTML = "";

    processes.forEach(p => {
        let freq = p.priority <= 3 ? "HIGH" : "LOW";
        let voltage = freq === "HIGH" ? 1.2 : 0.8;
        let f = freq === "HIGH" ? 2.5 : 1.2;
        let energy = (voltage * voltage * f * p.burst).toFixed(2);

        p.freq = freq;
        p.energy = energy;

        document.getElementById("activityLog").innerHTML += `
        <tr>
            <td>${p.pid}</td>
            <td>${voltage}</td>
            <td>${f}</td>
            <td>${p.burst}</td>
            <td>E = V² × f × T</td>
            <td>${energy}</td>
        </tr>
        `;
    });

    renderTable();
}

function renderTable(){
    let rows = "";
    processes.forEach(p => {
        rows += `
        <tr>
            <td>${p.pid}</td>
            <td>${p.burst}</td>
            <td>${p.priority}</td>
            <td class="${p.freq === 'HIGH' ? 'high' : 'low'}">${p.freq || "-"}</td>
            <td>${p.energy || "-"}</td>
        </tr>
        `;
    });
    document.getElementById("ptable").innerHTML = rows;
}
</script>

</body>
</html>
